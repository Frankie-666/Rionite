!function(e,t,n,r){"use strict";function i(e,t){for(var n=0,r=e.length;r>n;n++)_(e[n],t)}function s(e){for(var t,n=0,r=e.length;r>n;n++)t=e[n],x(t,U[a(t)])}function o(e){return function(t){re(t)&&(_(t,e),i(t.querySelectorAll(D),e))}}function a(e){var t=e.getAttribute("is"),n=e.nodeName.toUpperCase(),r=z.call(F,t?k+t.toUpperCase():L+n);return t&&r>-1&&!l(n,t)?-1:r}function l(e,t){return-1<D.indexOf(e+'[is="'+t+'"]')}function u(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;!ve||i&&i!==t||!t.attributeChangedCallback||"style"===r||e.prevValue===e.newValue||t.attributeChangedCallback(r,n===e[I]?null:e.prevValue,n===e[T]?null:e.newValue)}function h(e){var t=o(e);return function(e){g.push(t,e.target)}}function c(e){de&&(de=!1,e.currentTarget.removeEventListener(R,c)),i((e.target||t).querySelectorAll(D),e.detail===S?S:O),ne&&d()}function f(e,t){var n=this;oe.call(n,e,t),m.call(n,{target:n})}function p(e,t){Q(e,t),E?E.observe(e,ue):(pe&&(e.setAttribute=f,e[w]=y(e),e.addEventListener(V,m)),e.addEventListener(N,u)),e.createdCallback&&ve&&(e.created=!0,e.createdCallback(),e.created=!1)}function d(){for(var e,t=0,n=ie.length;n>t;t++)e=ie[t],H.contains(e)||(n--,ie.splice(t--,1),_(e,S))}function v(e){throw new Error("A "+e+" type is already registered")}function _(e,t){var n,r=a(e);r>-1&&(C(e,U[r]),r=0,t!==O||e[O]?t!==S||e[S]||(e[O]=!1,e[S]=!0,r=1):(e[S]=!1,e[O]=!0,r=1,ne&&z.call(ie,e)<0&&ie.push(e)),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(r in t)){var g,m,b,y,E,C,x,w="__"+r+(1e5*Math.random()>>0),O="attached",S="detached",A="extends",I="ADDITION",j="MODIFICATION",T="REMOVAL",N="DOMAttrModified",R="DOMContentLoaded",V="DOMSubtreeModified",L="<",k="=",P=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,M=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],U=[],D="",H=t.documentElement,z=F.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},K=n.prototype,q=K.hasOwnProperty,B=K.isPrototypeOf,$=n.defineProperty,Z=n.getOwnPropertyDescriptor,X=n.getOwnPropertyNames,Y=n.getPrototypeOf,G=n.setPrototypeOf,J=!!n.__proto__,W=n.create||function _e(e){return e?(_e.prototype=e,new _e):this},Q=G||(J?function(e,t){return e.__proto__=t,e}:X&&Z?function(){function e(e,t){for(var n,r=X(t),i=0,s=r.length;s>i;i++)n=r[i],q.call(e,n)||$(e,n,Z(t,n))}return function(t,n){do e(t,n);while((n=Y(n))&&!B.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),ee=e.MutationObserver||e.WebKitMutationObserver,te=(e.HTMLElement||e.Element||e.Node).prototype,ne=!B.call(te,H),re=ne?function(e){return 1===e.nodeType}:function(e){return B.call(te,e)},ie=ne&&[],se=te.cloneNode,oe=te.setAttribute,ae=te.removeAttribute,le=t.createElement,ue=ee&&{attributes:!0,characterData:!0,attributeOldValue:!0},he=ee||function(e){pe=!1,H.removeEventListener(N,he)},ce=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},fe=!1,pe=!0,de=!0,ve=!0;G||J?(C=function(e,t){B.call(t,e)||p(e,t)},x=p):(C=function(e,t){e[w]||(e[w]=n(!0),p(e,t))},x=C),ne?(pe=!1,function(){var e=Z(te,"addEventListener"),t=e.value,n=function(e){var t=new CustomEvent(N,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[T]=t.attrChange=2,ae.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),i=new CustomEvent(N,{bubbles:!0});oe.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[j]=i.attrChange=1:i[I]=i.attrChange=0,this.dispatchEvent(i)},i=function(e){var t,n=e.currentTarget,r=n[w],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],t=new CustomEvent(N,{bubbles:!0}),t.attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[I]=t.attrChange=0:t[j]=t.attrChange=1,n.dispatchEvent(t))};e.value=function(e,s,o){e===N&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[w]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,s,o)},$(te,"addEventListener",e)}()):ee||(H.addEventListener(N,he),H.setAttribute(w,1),H.removeAttribute(w),pe&&(m=function(e){var t,n,r,i=this;if(i===e.target){t=i[w],i[w]=n=y(i);for(r in n){if(!(r in t))return b(0,i,r,t[r],n[r],I);if(n[r]!==t[r])return b(1,i,r,t[r],n[r],j)}for(r in t)if(!(r in n))return b(2,i,r,t[r],n[r],T)}},b=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,u(o)},y=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;o>s;s++)t=i[s],n=t.name,"setAttribute"!==n&&(r[n]=t.value);return r})),t[r]=function(e,n){if(r=e.toUpperCase(),fe||(fe=!0,ee?(E=function(e,t){function n(e,t){for(var n=0,r=e.length;r>n;t(e[n++]));}return new ee(function(r){for(var i,s,o,a=0,l=r.length;l>a;a++)i=r[a],"childList"===i.type?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,ve&&s.attributeChangedCallback&&"style"!==i.attributeName&&(o=s.getAttribute(i.attributeName),o!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o)))})}(o(O),o(S)),E.observe(t,{childList:!0,subtree:!0})):(g=[],ce(function m(){for(;g.length;)g.shift().call(null,g.shift());ce(m)}),t.addEventListener("DOMNodeInserted",h(O)),t.addEventListener("DOMNodeRemoved",h(S))),t.addEventListener(R,c),t.addEventListener("readystatechange",c),t.createElement=function(e,n){var r=le.apply(t,arguments),i=""+e,s=z.call(F,(n?k:L)+(n||i).toUpperCase()),o=s>-1;return n&&(r.setAttribute("is",n=n.toLowerCase()),o&&(o=l(i.toUpperCase(),n))),ve=!t.createElement.innerHTMLHelper,o&&x(r,U[s]),r},te.cloneNode=function(e){var t=se.call(this,!!e),n=a(t);return n>-1&&x(t,U[n]),e&&s(t.querySelectorAll(D)),t}),-2<z.call(F,k+r)+z.call(F,L+r)&&v(e),!P.test(r)||-1<z.call(M,r))throw new Error("The type "+e+" is invalid");var r,u,f=function(){return d?t.createElement(_,r):t.createElement(_)},p=n||K,d=q.call(p,A),_=d?n[A].toUpperCase():r;return d&&-1<z.call(F,L+_)&&v(_),u=F.push((d?k:L)+r)-1,D=D.concat(D.length?",":"",d?_+'[is="'+e.toLowerCase()+'"]':_),f.prototype=U[u]=q.call(p,"prototype")?p.prototype:W(te),i(t.querySelectorAll(D),O),f}}}(window,document,Object,"registerElement"),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Rista=t():e.Rista=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=r.EventEmitter,s=r.map,o=r.list,a=r.cellx,l=n(17),u=n(18),h=n(23),c=n(24),f=n(31),p=n(19),d=n(20),v=n(21),_=n(22),g=e.exports={EventEmitter:i,map:s,list:o,cellx:a,KeyedList:l,Attributes:u,Properties:h,Component:c,components:{RtContent:f},utils:{camelize:p,hyphenize:d,escapeHTML:v,unescapeHTML:_}};g.Rista=g},function(e,t,n){function r(e,t){function n(e){var s=this;s&&s!=A||(s=n),O.call(s,w)||Object.defineProperty(s,w,{value:new g});var o=s[w].get(n);if(!o){if("dispose"===e&&arguments.length>=2)return;t=Object.create(t),t.owner=s,o=new p(i,t),s[w].set(n,o)}switch(arguments.length){case 0:return o.get();case 1:return o.set(e),e;default:var a=e;switch(a){case"bind":return n=n.bind(s),n.constructor=r,n;case"unwrap":return o;default:var l=p.prototype[a].apply(o,S.call(arguments,1));return l===o?n:l}}}t||(t={});var i=e;return n.constructor=r,(t.onChange||t.onError)&&n.call(t.owner||A),n}function i(e,t){return new c(e,"boolean"==typeof t?{adoptsItemChanges:t}:t)}function s(e,t){return new f(e,"boolean"==typeof t?{adoptsItemChanges:t}:t)}function o(e,t,n){var r="_"+t;return e[r]=n instanceof p?n:new p(n,{owner:e}),Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return this[r].get()},set:function(e){this[r].set(e)}}),e}function a(e,t){return Object.keys(t).forEach(function(n){o(e,n,t[n])}),e}function l(e,t,n){return 3==arguments.length?o(e,t,n):a(e,t),e}var u=n(2),h=n(3),c=n(8),f=n(13),p=n(14),d=n(11),v=n(12),_=n(4),g=n(10),m=n(16),b=n(5),y=n(7),E=n(6),C=n(15),x=d.UID,w=d.CELLS,O=Object.prototype.hasOwnProperty,S=Array.prototype.slice,A=Function("return this;")();u.setHandler(m),r.KEY_UID=x,r.ErrorLogger=u,r.EventEmitter=h,r.ObservableMap=c,r.ObservableList=f,r.Cell=p,r.map=i,r.list=s,r.define=l,r.js={is:v,Symbol:_,Map:g},r.utils={logError:m,nextUID:b,mixin:y,createClass:E,nextTick:C,defineObservableProperty:o,defineObservableProperties:a},r.cellx=r,e.exports=r},function(e,t){var n={_handler:null,setHandler:function(e){this._handler=e},log:function(){this._handler.apply(this,arguments)}};e.exports=n},function(e,t,n){var r=n(2),i=n(4),s=n(6),o=Object.prototype.hasOwnProperty,a=i("inner"),l=s({Static:{KEY_INNER:a},constructor:function(){this._events=Object.create(null)},on:function(e,t,n){if("object"==typeof e){n=arguments.length>=2?t:this;var r=e;for(e in r)o.call(r,e)&&this._on(e,r[e],n)}else this._on(e,t,arguments.length>=3?n:this);return this},off:function(e,t,n){var r=arguments.length;if(r)if("object"==typeof e){n=r>=2?t:this;var i=e;for(e in i)o.call(i,e)&&this._off(e,i[e],n)}else this._off(e,t,r>=3?n:this);else this._events&&(this._events=Object.create(null));return this},_on:function(e,t,n){var r=e.indexOf(":");if(-1!=r)this["_"+e.slice(r+1)].on(e.slice(0,r),t,n);else{var i=(this._events||(this._events=Object.create(null)))[e];i||(i=this._events[e]=[]),i.push({listener:t,context:n})}},_off:function(e,t,n){var r=e.indexOf(":");if(-1!=r)this["_"+e.slice(r+1)].off(e.slice(0,r),t,n);else{var i=this._events&&this._events[e];if(!i)return;for(var s=i.length;s;){var o=i[--s];if((o.listener==t||o.listener[a]===t)&&o.context===n){i.splice(s,1);break}}i.length||delete this._events[e]}},once:function(e,t,n){function r(){return this._off(e,r,n),t.apply(this,arguments)}return arguments.length<3&&(n=this),r[a]=t,this._on(e,r,n),this},emit:function(e){if("string"==typeof e)e={target:this,type:e};else if(e.target){if(e.target!=this)throw new TypeError("Event cannot be emitted on this object")}else e.target=this;return this._handleEvent(e),e},_handleEvent:function(e){var t=this._events&&this._events[e.type];if(t){t=t.slice();for(var n=0,r=t.length;r>n;n++)try{t[n].listener.call(t[n].context,e)===!1&&(e.isPropagationStopped=!0)}catch(i){this._logError(i)}}},_logError:function(){r.log.apply(r,arguments)}});e.exports=l},function(e,t,n){var r=n(5),i=Function("return this;")().Symbol;i||(i=function(e){return"__"+e+"_"+Math.floor(1e9*Math.random())+"_"+r()+"__"},i.iterator=i("iterator")),e.exports=i},function(e,t){function n(){return String(++r)}var r=0;e.exports=n},function(e,t,n){function r(e){var t;e.Extends?(t=e.Extends,delete e.Extends):t=Object;var n;o.call(e,"constructor")?(n=e.constructor,delete e.constructor):n=t==Object?function(){}:function(){return t.apply(this,arguments)};var r=n.prototype=Object.create(t.prototype);return e.Implements&&(e.Implements.forEach(function(e){"function"==typeof e?(Object.keys(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),s(r,e.prototype)):s(r,e)}),delete e.Implements),Object.keys(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),e.Static&&(s(n,e.Static),delete e.Static),void 0===n.extend&&(n.extend=i),s(r,e),Object.defineProperty(r,"constructor",{configurable:!0,writable:!0,value:n}),n}var i,s=n(7),o=Object.prototype.hasOwnProperty;i=function(e){return e.Extends=this,r(e)},e.exports=r},function(e,t){function n(e,t){for(var n=Object.getOwnPropertyNames(t),r=0,i=n.length;i>r;r++){var s=n[r];Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}return e}e.exports=n},function(e,t,n){var r=n(3),i=n(9),s=n(12),o=n(4),a=n(10),l=Object.prototype.hasOwnProperty,u=Array.isArray,h=Function("return this;")(),c=r.extend({Implements:[i],constructor:function f(e,t){if(r.call(this),i.call(this),this._entries=new a,this.size=0,this.adoptsItemChanges=!t||t.adoptsItemChanges!==!1,e){var n=this._entries;if(e instanceof f||e instanceof a)e._entries.forEach(function(e,t){n.set(t,e),this._registerValue(e)},this);else if(u(e))for(var s=0,o=e.length;o>s;s++){var h=e[s];n.set(h[0],h[1]),this._registerValue(h[1])}else for(var c in e)l.call(e,c)&&(n.set(c,e[c]),this._registerValue(e[c]));this.size=n.size}},has:function(e){return this._entries.has(e)},contains:function(e){return this._valueCounts.has(e)},get:function(e){return this._entries.get(e)},set:function(e,t){var n,r=this._entries,i=r.has(e);if(i){if(n=r.get(e),s(n,t))return this;this._unregisterValue(n)}return r.set(e,t),this._registerValue(t),i||this.size++,this.emit({type:"change",subtype:i?"update":"add",key:e,oldValue:n,value:t}),this},"delete":function(e){var t=this._entries;if(!t.has(e))return!1;var n=t.get(e);return t["delete"](e),this._unregisterValue(n),this.size--,this.emit({type:"change",subtype:"delete",key:e,oldValue:n,value:void 0}),!0},clear:function(){return this.size?(this.adoptsItemChanges&&this._valueCounts.forEach(function(e){e instanceof r&&e.off("change",this._onItemChange,this)},this),this._entries.clear(),this._valueCounts.clear(),this.size=0,this.emit({type:"change",subtype:"clear"}),this):this},forEach:function(e,t){t=arguments.length>=2?t:h,this._entries.forEach(function(n,r){e.call(t,n,r,this)},this)},keys:function(){return this._entries.keys()},values:function(){return this._entries.values()},entries:function(){return this._entries.entries()},clone:function(){return new this.constructor(this,{adoptsItemChanges:this.adoptsItemChanges})}});c.prototype[o.iterator]=c.prototype.entries,e.exports=c},function(e,t,n){var r=n(3),i=n(10),s=r.extend({constructor:function(){this._valueCounts=new i},_onItemChange:function(e){this._handleEvent(e)},_registerValue:function(e){var t=this._valueCounts,n=t.get(e);n?t.set(e,n+1):(t.set(e,1),this.adoptsItemChanges&&e instanceof r&&e.on("change",this._onItemChange,this))},_unregisterValue:function(e){var t=this._valueCounts,n=t.get(e);n>1?t.set(e,n-1):(t["delete"](e),this.adoptsItemChanges&&e instanceof r&&e.off("change",this._onItemChange,this))}});e.exports=s},function(e,t,n){var r=n(11),i=n(4),s=n(5),o=n(6),a=r.UID,l=Object.prototype.hasOwnProperty,u=Function("return this;")(),h=u.Map;if(!h){var c={value:void 0};h=o({constructor:function(e){if(this._entries=Object.create(null),this._objectStamps={},this._first=null,this._last=null,this.size=0,e)for(var t=0,n=e.length;n>t;t++)this.set(e[t][0],e[t][1])},has:function(e){return!!this._entries[this._getValueStamp(e)]},get:function(e){return(this._entries[this._getValueStamp(e)]||c).value},set:function(e,t){var n=this._entries,r=this._getValueStamp(e);if(n[r])n[r].value=t;else{var i=n[r]={key:e,keyStamp:r,value:t,prev:this._last,next:null};this.size++?this._last.next=i:this._first=i,this._last=i}return this},"delete":function(e){var t=this._getValueStamp(e),n=this._entries[t];if(!n)return!1;if(--this.size){var r=n.prev,i=n.next;r?r.next=i:this._first=i,i?i.prev=r:this._last=r}else this._first=null,this._last=null;return delete this._entries[t],delete this._objectStamps[t],!0},clear:function(){var e=this._entries;for(var t in e)delete e[t];this._objectStamps={},this._first=null,this._last=null,this.size=0},_getValueStamp:function(e){switch(typeof e){case"undefined":return"undefined";case"object":if(null===e)return"null";break;case"boolean":return"?"+e;case"number":return"+"+e;case"string":return","+e}return this._getObjectStamp(e)},_getObjectStamp:function(e){if(!l.call(e,a)){if(!Object.isExtensible(e)){var t,n=this._objectStamps;for(t in n)if(l.call(n,t)&&n[t]==e)return t;return t=s(),n[t]=e,t}Object.defineProperty(e,a,{value:s()})}return e[a]},forEach:function(e,t){t=arguments.length>=2?t:u;for(var n=this._first;n;){e.call(t,n.value,n.key,this);do n=n.next;while(n&&!this._entries[n.keyStamp])}},toString:function(){return"[object Map]"}}),[["keys",function(e){return e.key}],["values",function(e){return e.value}],["entries",function(e){return[e.key,e.value]}]].forEach(function(e){var t=e[1];h.prototype[e[0]]=function(){var e,n=this._entries,r=!1,i=this;return{next:function(){if(!r){if(e){do e=e.next;while(e&&!n[e.keyStamp])}else e=i._first;if(e)return{value:t(e),done:!1};r=!0}return{value:void 0,done:!0}}}}})}h.prototype[i.iterator]||(h.prototype[i.iterator]=h.prototype.entries),e.exports=h},function(e,t,n){var r=n(4);e.exports={UID:r("uid"),CELLS:r("cells")}},function(e,t){var n=Object.is||function(e,t){return 0===e&&0===t?1/e==1/t:e===t||e!=e&&t!=t};e.exports=n},function(e,t,n){function r(e,t){return t>e?-1:e>t?1:0}var i=n(3),s=n(9),o=n(12),a=n(4),l=Array.prototype.push,u=Array.prototype.splice,h=Function("return this;")(),c=i.extend({Implements:[s],constructor:function f(e,t){i.call(this),s.call(this),t||(t={}),this._items=[],this.length=0,this.adoptsItemChanges=t.adoptsItemChanges!==!1,this.comparator=null,this.sorted=!1,(t.sorted||t.comparator&&t.sorted!==!1)&&(this.comparator=t.comparator||r,this.sorted=!0),e&&this._addRange(e instanceof f?e._items:e)},_validateIndex:function(e,t){if(void 0===e)return e;if(0>e){if(e+=this.length,0>e)throw new RangeError("Index out of valid range")}else if(e>=this.length+(t?1:0))throw new RangeError("Index out of valid range");return e},contains:function(e){return this._valueCounts.has(e)},indexOf:function(e,t){return this._items.indexOf(e,this._validateIndex(t))},lastIndexOf:function(e,t){return this._items.lastIndexOf(e,void 0===t?-1:this._validateIndex(t))},get:function(e){return this._items[this._validateIndex(e)]},getRange:function(e,t){e=this._validateIndex(e,!0);var n=this._items;if(void 0===t)return n.slice(e);if(e+t>n.length)throw new RangeError('Sum of "index" and "count" out of valid range');return n.slice(e,e+t)},set:function(e,t){if(this.sorted)throw new TypeError("Cannot set to sorted list");e=this._validateIndex(e);var n=this._items;return o(n[e],t)?this:(this._unregisterValue(n[e]),n[e]=t,this._registerValue(t),this.emit("change"),this)},setRange:function(e,t){if(this.sorted)throw new TypeError("Cannot set to sorted list");e=this._validateIndex(e);var n=t.length;if(!n)return this;if(e+n>this.length)throw new RangeError('Sum of "index" and "items.length" out of valid range');for(var r=this._items,i=!1,s=e+n;s>e;){var a=t[--s-e];o(r[s],a)||(this._unregisterValue(r[s]),r[s]=a,this._registerValue(a),i=!0)}return i&&this.emit("change"),this},add:function(e){return this.addRange([e]),this},addRange:function(e){return e.length?(this._addRange(e),this.emit("change"),this):this},_addRange:function(e){var t=this._items;if(this.sorted)for(var n=this.comparator,r=0,i=e.length;i>r;r++){for(var s=e[r],o=0,a=t.length;o!=a;){var u=o+a>>1;n(s,t[u])<0?a=u:o=u+1}t.splice(o,0,s),this._registerValue(s)}else{l.apply(t,e);for(var h=e.length;h;)this._registerValue(e[--h])}this.length=t.length},insert:function(e,t){return this.insertRange(e,[t]),this},insertRange:function(e,t){if(this.sorted)throw new TypeError("Cannot insert to sorted list");e=this._validateIndex(e,!0);var n=t.length;if(!n)return this;u.apply(this._items,[e,0].concat(t));for(var r=n;r;)this._registerValue(t[--r]);return this.length+=n,this.emit("change"),this},remove:function(e,t){var n=this._items.indexOf(e,this._validateIndex(t));return-1==n?!1:(this._items.splice(n,1),this._unregisterValue(e),this.length--,this.emit("change"),!0)},removeAll:function(e,t){for(var n=this._validateIndex(t),r=this._items,i=!1;-1!=(n=r.indexOf(e,n));)r.splice(n,1),this._unregisterValue(e),i=!0;return i?(this.length=r.length,this.emit("change"),!0):!1},removeAt:function(e){var t=this._items.splice(this._validateIndex(e),1)[0];return this._unregisterValue(t),this.length--,this.emit("change"),t},removeRange:function(e,t){e=this._validateIndex(e,!0);var n=this._items;if(void 0===t)t=n.length-e;else if(e+t>n.length)throw new RangeError('Sum of "index" and "count" out of valid range');if(!t)return[];for(var r=e+t;r>e;)this._unregisterValue(n[--r]);var i=n.splice(e,t);return this.length-=t,this.emit("change"),i},clear:function(){return this.length&&(this.adoptsItemChanges&&this._valueCounts.forEach(function(e){e instanceof i&&e.off("change",this._onItemChange,this)},this),this._items.length=0,this._valueCounts.clear(),this.length=0,this.emit("change")),this},join:function(e){return this._items.join(e)},forEach:null,map:null,filter:null,find:function(e,t){t=arguments.length>=2?t:h;for(var n=this._items,r=0,i=n.length;i>r;r++){var s=n[r];if(e.call(t,s,r,this))return s}},findIndex:function(e,t){t=arguments.length>=2?t:h;for(var n=this._items,r=0,i=n.length;i>r;r++)if(e.call(t,n[r],r,this))return r;return-1},every:null,some:null,reduce:null,reduceRight:null,clone:function(){return new this.constructor(this,{adoptsItemChanges:this.adoptsItemChanges,comparator:this.comparator,sorted:this.sorted})},toArray:function(){return this._items.slice()},toString:function(){return this._items.join()}});["forEach","map","filter","every","some"].forEach(function(e){c.prototype[e]=function(t,n){return n=arguments.length>=2?n:h,this._items[e](function(e,r){return t.call(n,e,r,this)},this)}}),["reduce","reduceRight"].forEach(function(e){c.prototype[e]=function(t,n){function r(e,n,r){return t(e,n,r,s)}var i=this._items,s=this;return arguments.length>=2?i[e](r,n):i[e](r)}}),[["keys",function(e){return e}],["values",function(e,t){return t}],["entries",function(e,t){return[e,t]}]].forEach(function(e){var t=e[1];c.prototype[e[0]]=function(){var e=this._items,n=0,r=!1;return{next:function(){if(!r){if(n<e.length)return{value:t(n,e[n++]),done:!1};r=!0}return{value:void 0,done:!0}}}}}),c.prototype[a.iterator]=c.prototype.values,e.exports=c},function(e,t,n){function r(){if(v){v=!1,_=!0;for(var e=f[p];;){var t=(e||[]).shift();if(t){var n=p,r=t._level,i=t._changeEvent;if(!i){if(r>p||-1==t._levelInRelease){if(!e.length){if(++p>d)break;e=f[p]}continue}if(t.pull(),r=t._level,i=t._changeEvent,p!=n){i?e.unshift(t):n>=r&&(t._levelInRelease=-1),e=f[p];continue}if(r>p){e.length||(e=f[++p]);continue}}if(t._levelInRelease=-1,i){t._fixedValue=t._value,t._changeEvent=null,t._events.change&&t._handleEvent(i);for(var s=t._pushingIndex,o=t._slaves,a=0,l=o.length;l>a;a++){var h=o[a];h._level<=r&&(h._level=r+1),s>h._pushingIndex&&(h._pushingIndex=s,h._changeEvent=null,h._addToRelease())}}if(p==n){if(e.length)continue;if(++p>d)break}e=f[p]}else{if(++p>d)break;e=f[p]}}p=u,d=-1,_=!1,g++}}function i(e,t){t(e)}var s=n(3),o=n(12),a=n(15),l=Array.prototype.slice,u=Number.MAX_SAFE_INTEGER||9007199254740991,h=s.KEY_INNER,c=0,f=[],p=u,d=-1,v=!1,_=!1,g=1,m=null,b={original:null},y=s.extend({Static:{forceRelease:function(){v&&r()}},constructor:function(e,t){s.call(this),t||(t={});var n=this;this.debugKey=t.debugKey,this.owner=t.owner||this,this._pull="function"==typeof e?e:null,this._get=t.get||null,this._validate=t.validate||null,this._merge=t.merge||null,this._put=t.put||i;var r=this.push,o=this.fail;this.push=function(e){r.call(n,e)},this.fail=function(e){o.call(n,e)},this._onFulfilled=this._onRejected=null,this._reap=t.reap||null,this._pull?this._fixedValue=this._value=void 0:(this._validate&&this._validate(e,void 0),this._merge&&(e=this._merge(e,void 0)),this._fixedValue=this._value=e,e instanceof s&&e.on("change",this._onValueChange,this)),this._error=null,this._errorCell=null,this._pushingIndex=0,this._version=0,this._inited=!1,this._currentlyPulls=!1,this._active=!1,this._hasFollowers=!1,this._masters=null,this._slaves=[],this._level=0,this._levelInRelease=-1,this._pending=this._fulfilled=this._rejected=!1,this._changeEvent=null,this._canCancelChange=!0,this._lastErrorEvent=null,t.onChange&&this.on("change",t.onChange),t.onError&&this.on("error",t.onError)},on:function(e,t,n){return v&&r(),this._activate(),"object"==typeof e?s.prototype.on.call(this,e,arguments.length>=2?t:this.owner):s.prototype.on.call(this,e,t,arguments.length>=3?n:this.owner),this._hasFollowers=!0,this},off:function(e,t,n){v&&r();var i=arguments.length;return i?"object"==typeof e?s.prototype.off.call(this,e,i>=2?t:this.owner):s.prototype.off.call(this,e,t,i>=3?n:this.owner):s.prototype.off.call(this),this._slaves.length||this._events.change||this._events.error||(this._hasFollowers=!1,this._deactivate()),this},addChangeListener:function(e,t){return this.on("change",e,arguments.length>=2?t:this.owner)},removeChangeListener:function(e,t){return this.off("change",e,arguments.length>=2?t:this.owner)},addErrorListener:function(e,t){return this.on("error",e,arguments.length>=2?t:this.owner)},removeErrorListener:function(e,t){return this.off("error",e,arguments.length>=2?t:this.owner)},subscribe:function(e,t){function n(t){return e.call(this,t.error||null,t)}return n[h]=e,arguments.length<2&&(t=this.owner),this.on("change",n,t).on("error",n,t)},unsubscribe:function(e,t){return arguments.length<2&&(t=this.owner),this.off("change",e,t).off("error",e,t)},_registerSlave:function(e){this._activate(),this._slaves.push(e),this._hasFollowers=!0},_unregisterSlave:function(e){this._slaves.splice(this._slaves.indexOf(e),1),this._slaves.length||this._events.change||this._events.error||(this._hasFollowers=!1,this._deactivate())},_activate:function(){if(this._pull&&!this._active&&(!this._inited||this._masters)){if(this._version<g){var e=this._tryPull();e===b?this._fail(b.original,!0):this._push(e,!0)}var t=this._masters;if(t){for(var n=t.length;n;)t[--n]._registerSlave(this);this._active=!0}}},_deactivate:function(){if(this._active){for(var e=this._masters,t=e.length;t;)e[--t]._unregisterSlave(this);this._active=!1,this._reap&&this._reap.call(this.owner)}},_addToRelease:function(){var e=this._level;e<=this._levelInRelease||((f[e]||(f[e]=[])).push(this),p>e&&(p=e),e>d&&(d=e),this._levelInRelease=e,v||_||(v=!0,a(r)))},_onValueChange:function(e){this._pushingIndex=++c,this._changeEvent?(e.prev=this._changeEvent,this._changeEvent=e,this._value===this._fixedValue&&(this._canCancelChange=!1)):(e.prev=null,this._changeEvent=e,this._canCancelChange=!1,this._addToRelease())},pull:function(){if(!this._pull)return this;v&&r();var e,t,n=this._hasFollowers;n&&(e=this._masters||[],t=this._level),this._pending=!0,this._fulfilled=this._rejected=!1;var i=this._tryPull();if(n){for(var s=this._masters||[],o=s.length,a=0,l=o;l;){var u=s[--l];-1==e.indexOf(u)&&(u._registerSlave(this),a++)}if(o-a<e.length)for(var h=e.length;h;){var c=e[--h];-1==s.indexOf(c)&&c._unregisterSlave(this)}if(this._active=!!o,_&&this._level>t)return this._addToRelease(),this}return i===b?this._fail(b.original,_):this._push(i,_),this},_tryPull:function(){if(this._currentlyPulls)throw new TypeError("Circular pulling detected");var e=m;m=this,this._currentlyPulls=!0,this._masters=null,this._level=0;try{return this._pull.call(this.owner,this.push,this.fail,this._value)}catch(t){return b.original=t,b}finally{m=e,this._version=g+_,this._inited=!0,this._currentlyPulls=!1}},get:function(){if(v&&this._pull&&r(),this._pull&&!this._active&&this._version<g&&(!this._inited||this._masters)){var e=this._tryPull();if(this._hasFollowers){var t=this._masters;if(t){for(var n=t.length;n;)t[--n]._registerSlave(this);this._active=!0}}e===b?this._fail(b.original,!0):this._push(e,!0)}if(m){var i=m._masters,s=this._level;i?-1==i.indexOf(this)&&(i.push(this),m._level<=s&&(m._level=s+1)):(m._masters=[this],m._level=s+1)}return this._get?this._get(this._value):this._value},set:function(e){var t=this._value;return this._validate&&this._validate(e,t),this._merge&&(e=this._merge(e,t)),this._put.call(this.owner,e,this.push,this.fail,t),this},push:function(e){return this._push(e,!1),this},_push:function(e,t){this._setError(null),t||(this._pushingIndex=++c);var n=this._value;o(e,n)||(this._value=e,n instanceof s&&n.off("change",this._onValueChange,this),e instanceof s&&e.on("change",this._onValueChange,this),this._hasFollowers?this._changeEvent?o(e,this._fixedValue)&&this._canCancelChange?(this._levelInRelease=-1,this._changeEvent=null):this._changeEvent={target:this,type:"change",oldValue:n,value:e,prev:this._changeEvent}:(this._changeEvent={target:this,type:"change",oldValue:n,value:e,prev:null},this._canCancelChange=!0,this._addToRelease()):(_||t||g++,this._fixedValue=e),!t&&this._pending&&(this._pending=!1,this._fulfilled=!0,this._onFulfilled&&this._onFulfilled(e)))},fail:function(e){return this._fail(e,!1),this},_fail:function(e,t){this._logError(e),e instanceof Error||(e=new Error(String(e))),!t&&this._pending&&(this._pending=!1,this._rejected=!0,this._onRejected&&this._onRejected(e)),this._handleErrorEvent({type:"error",error:e})},_handleErrorEvent:function(e){if(this._lastErrorEvent!==e){this._setError(e.error),this._lastErrorEvent=e,this._handleEvent(e);for(var t=this._slaves,n=0,r=t.length;r>n;n++)t[n]._handleErrorEvent(e)}},getError:function(){return(this._errorCell||(this._errorCell=new y(this._error))).get()},_setError:function(e){if(this._error!==e&&(this._error=e,this._errorCell&&this._errorCell.set(e),!e))for(var t=this._slaves,n=0,r=t.length;r>n;n++)t[n]._setError(e)},then:function(e,t){if(v&&r(),!this._pull||this._fulfilled)return Promise.resolve(this._get?this._get(this._value):this._value).then(e);if(this._rejected)return Promise.reject(this._error)["catch"](t);var n=this,i=new Promise(function(e,t){n._onFulfilled=function(t){n._onFulfilled=n._onRejected=null,e(n._get?n._get(t):t)},n._onRejected=function(e){n._onFulfilled=n._onRejected=null,t(e)}}).then(e,t);return this._pending||this.pull(),i},"catch":function(e){return this.then(null,e)},_logError:function(){var e=l.call(arguments);this.debugKey&&e.unshift("["+this.debugKey+"]"),s.prototype._logError.apply(this,e)},dispose:function(){return v&&r(),this._dispose(),this},_dispose:function(){for(var e=this._slaves,t=0,n=e.length;n>t;t++)e[t]._dispose();this.off()}});e.exports=y},function(e,t,n){var r,i=n(2),s=Function("return this;")();if(s.process&&"[object process]"==process.toString()&&process.nextTick)r=process.nextTick;else if(s.setImmediate)r=function(e){setImmediate(e)};else if(s.Promise&&-1!=Promise.toString().indexOf("[native code]")){var o=Promise.resolve();r=function(e){o.then(function(){e()})}}else{var a;s.addEventListener("message",function(){if(a){var e=a;a=null;for(var t=0,n=e.length;n>t;t++)try{e[t]()}catch(r){i.log(r)}}}),r=function(e){a?a.push(e):(a=[e],postMessage("__tic__","*"))}}e.exports=r},function(e,t){function n(){}function r(){var e=s.console;(e&&e.error||n).call(e||s,i.call(arguments,function(e){return e===Object(e)&&e.stack||e}).join(" "))}var i=Array.prototype.map,s=Function("return this;")();e.exports=r},function(e,t,n){"use strict";var r=n(1),i=r.ObservableList,s=i.prototype,o=s._registerValue,a=s._unregisterValue,l=s.get,u=s.set,h=s.setRange,c=s._addRange,f=s.insertRange,p=i.extend({constructor:function(e,t){this._itemsByKey=Object.create(null),this._keyName=t&&t.keyName||"id",i.call(this,e,t)},_registerValue:function(e){this._itemsByKey[e[this._keyName]]=e,o.call(this,e)},_unregisterValue:function(e){delete this._itemsByKey[e[this._keyName]],a.call(this,e)},_validateValues:function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];if(r!==Object(r))throw new TypeError("Value must be an object");if(this._itemsByKey[r[this._keyName]])throw new TypeError("Key of value must be unique")}},get:function(e){return"string"==typeof e?this._itemsByKey[e]:l.call(this,e)},set:function(e,t){return this._validateValues([t]),u.call(this,e,t)},setRange:function(e,t){return this._validateValues(t),h.call(this,e,t)},_addRange:function(e){this._validateValues(e),c.call(this,e)},insertRange:function(e,t){return this._validateValues(t),f.call(this,e,t)}});e.exports=p},function(e,t,n){"use strict";function r(e){return"[object RegExp]"==d.call(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),o=s.EventEmitter,a=s.Cell,l=s.js.Map,u=n(19),h=n(20),c=n(21),f=n(22),p=Object.defineProperty,d=Object.prototype.toString,v=new l([[Boolean,[function(e){
return null!==e?"no"!=e:!1},function(e){return e?"":null}]],["boolean",[function(e,t){return null!==e?"no"!=e:t},function(e,t){return e?"":t?"no":null}]],[Number,[function(e){return null!==e?+e:void 0},function(e){return void 0!==e?String(+e):null}]],["number",[function(e,t){return null!==e?+e:t},function(e){return void 0!==e?String(+e):null}]],[String,[function(e){return null!==e?e:void 0},function(e){return void 0!==e?String(e):null}]],["string",[function(e,t){return null!==e?e:t},function(e){return void 0!==e?String(e):null}]],[Object,[function(e,t,n){return null!==e?Object(Function("return "+f(e)+";").call(n)):null},function(e){return null!=e?c(r(e)?e.toString():JSON.stringify(e)):null}]],["object",[function(e,t,n){return null!==e?Object(Function("return "+f(e)+";").call(n)):t},function(e){return null!=e?c(r(e)?e.toString():JSON.stringify(e)):null}]]]),_=o.extend({Static:{typeHandlers:v},constructor:function(e){var t=this,n=e.element,r=e.constructor.elementAttributes,s=function(s){var o=r[s],l="undefined"==typeof o?"undefined":i(o),c=v.get("function"==l?o:l);if(!c)throw new TypeError("Unsupported attribute type");var f=u(s),d=h(s),_=t["_"+f]=t["_"+d]=new a(n.getAttribute(d),{merge:function(t,n){return n&&t===n[0]?n:[t,c[0](t,o,e)]},onChange:function(t){var n=t.oldValue[1],r=t.value[1];e.isReady&&(e.emit({type:"element-attribute-"+d+"-change",oldValue:n,value:r}),e.emit({type:"element-attribute-change",name:d,oldValue:n,value:r}),e.elementAttributeChanged&&e.elementAttributeChanged(d,n,r))}}),g={configurable:!0,enumerable:!0,get:function(){return _.get()[1]},set:function(e){e=c[1](e,o),null===e?n.removeAttribute(d):n.setAttribute(d,e),_.set(e)}};p(t,f,g),d!=f&&p(t,d,g)};for(var o in r)s(o)}});e.exports=_},function(e,t){"use strict";function n(e){return r[e]||(r[e]=e.replace(/[\-_]+([a-z]|$)/g,function(e,t){return t.toUpperCase()}))}var r=Object.create(null);e.exports=n},function(e,t){"use strict";function n(e){return r[e]||(r[e]=e.replace(/([A-Z])([^A-Z])/g,function(e,t,n){return"-"+t.toLowerCase()+n}).replace(/([A-Z]+)/g,function(e,t){return"-"+t.toLowerCase()}).replace("--","-").replace(/^-/,""))}var r=Object.create(null);e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&quot;")}var r=/&/g,i=/</g,s=/>/g,o=/"/g;e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"<").replace(i,">").replace(s,'"').replace(o,"&")}var r=/&lt;/g,i=/&gt;/g,s=/&quot;/g,o=/&amp;/g;e.exports=n},function(e,t,n){"use strict";var r=n(1),i=r.utils,s=i.createClass,o=i.defineObservableProperty,a=Object.create,l=s({constructor:function(e){return o(a(e.elementAttributes),"contentSourceElement",null)}});e.exports=l},function(e,t,n){"use strict";function r(e){var t=void 0,n=void 0,r=[];for(e instanceof Event?(t=e.target,n="rt-"+e.type):(t=e.target.element,n="rt-component-"+e.type);1==t.nodeType&&t.hasAttribute(n)&&r.unshift(t),t=t.parentNode,t;){var i=t.ristaComponent;if(i)for(var s=r.length;s;){var o=r[--s],a=i[o.getAttribute(n)];"function"==typeof a&&(a.call(i,e,o),r.splice(s,1))}}}function i(){var e=this.template;return e?e.render?e.render(this):e.call(this,this):""}var s=n(1),o=s.EventEmitter,a=s.Cell,l=s.utils,u=l.mixin,h=l.createClass,c=l.nextTick,f=n(25),p=n(18),d=n(23),v=n(26),_=n(30),g=n(19),m=Object.create,b=Object.getPrototypeOf,y=Object.defineProperties,E=Object.prototype.hasOwnProperty,C=Array.isArray,x=Array.prototype.slice,w=/<(\w+(?:\-\w+)+)([^>]*)\/>/g,O=null,S={get ristaComponent(){O=this;var e=new this._ristaComponentConstr;return O=null,e},get $c(){return this.ristaComponent},attachedCallback:function(){var e=this.ristaComponent;e._parentComponent=void 0,e.parentComponent?e._elementAttached.set(!0):c(function(){e._elementAttached.set(!0)})},detachedCallback:function(){var e=this.ristaComponent;e._parentComponent=null,e._elementAttached.set(!1)},attributeChangedCallback:function(e,t,n){var r=this.ristaComponent.elementAttributes,i="_"+e;E.call(r,i)&&r[i].set(n)}},A=o.extend({Implements:[f],Static:{extend:function(e,t){t.Extends=this,t.elementTagName=e;var n=h(t),r=m(HTMLElement.prototype);return u(r,S),r._ristaComponentConstr=n,document.registerElement(e,{prototype:r}),n},elementAttributes:{},morphComponentElement:v},_parentComponent:null,get parentComponent(){if(void 0!==this._parentComponent)return this._parentComponent;for(var e;e=(e||this.element).parentNode;)if(e.ristaComponent)return this._parentComponent=e.ristaComponent;return this._parentComponent=null},ownerComponent:null,element:null,elementTagName:void 0,_elementAttributes:null,get elementAttributes(){return this._elementAttributes||(this._elementAttributes=new p(this))},_props:null,get props(){return this._props||(this._props=new d(this))},_elementInnerHTML:null,_prevAppliedElementInnerHTML:void 0,template:null,_elementAttached:null,initialized:!1,isReady:!1,constructor:function I(e){if(o.call(this),f.call(this),this.constructor.prototype==I.prototype)throw new TypeError("Component is abstract class");var t=this.element=O||document.createElement(this.elementTagName);if(y(t,{ristaComponent:{value:this},$c:{value:this}}),(this.template||this.renderInner!==i)&&(this._elementInnerHTML=new a(function(){var e=this.renderInner();return(C(e)?e.join(""):e).replace(w,"<$1$2></$1>")},{owner:this})),this._elementAttached=new a(!1,{owner:this,onChange:this._onElementAttachedChange}),e){var n=this.props;for(var r in e)n[g(r)]=e[r]}this.created&&this.created()},_handleEvent:function(e){if(o.prototype._handleEvent.call(this,e),e.bubbles!==!1&&!e.isPropagationStopped){var t=this.parentComponent;t?t._handleEvent(e):r(e)}},_onElementInnerHTMLChange:function(){this.updateElement()},_onElementAttachedChange:function(e){var t=this,n=e.value;if(n&&!this.initialized&&(this.initialized=!0,this.initialize&&this.initialize()),this._elementInnerHTML&&this._elementInnerHTML[n?"on":"off"]("change",this._onElementInnerHTMLChange),n){if(this.updateElement(),!this.isReady){for(var r=this.element,i=this.constructor.prototype;r.className+=" "+i.elementTagName,i=b(i),i!=A.prototype;);var s=this.elementAttributes,o=this.constructor.elementAttributes;for(var a in o)if("function"!=typeof o[a]){var l=g(a);s[l]=s[l]}r.className+=" _component-ready"}this.isReady&&!this.elementAttached||c(function(){t.isReady||(t.isReady=!0,t.ready&&t.ready()),t.elementAttached&&t.elementAttached()})}else this.dispose(),this.elementDetached&&this.elementDetached()},shouldElementUpdate:function(){return!!this._elementInnerHTML},renderInner:i,updateElement:function(){var e=this;if(!this._elementInnerHTML)return this;var t=this._elementInnerHTML.get();if(t==(this._prevAppliedElementInnerHTML||""))return this;var n=document.createElement("div");return n.innerHTML=t,v(this,n),this._prevAppliedElementInnerHTML=t,this.isReady&&c(function(){e.elementUpdated&&e.elementUpdated(),e.emit("element-update")}),this},$:function(e){return this.element.querySelector(this._prepareSelector(e))},$$:function(e){return x.call(this.element.querySelectorAll(this._prepareSelector(e)))},_prepareSelector:function(e){if(e=e.split("&"),1==e.length)return e[0];for(var t=this.constructor.prototype;;){if(E.call(t,"template")||E.call(t,"renderInner"))return e.join("."+t.elementTagName);if(t=b(t),t==A.prototype)return e.join("."+this.elementTagName)}}});e.exports=A,document.addEventListener("DOMContentLoaded",function j(){document.removeEventListener("DOMContentLoaded",j),_.forEach(function(e){document.addEventListener(e,r)})})},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=n(1),s=i.EventEmitter,o=i.utils.nextUID,a=Array.isArray,l=s.extend({constructor:function(){this._disposables={}},listenTo:function(e,t,n,i){var s=this,l=void 0;if(a(e)||e instanceof NodeList||e instanceof HTMLCollection||e.addClass&&e.each){"object"!=("undefined"==typeof t?"undefined":r(t))||a(t)?arguments.length<4&&(i=this):arguments.length<3&&(n=this),l=[];for(var u=0,h=e.length;h>u;u++)l.push(this.listenTo(e[u],t,n,i))}else if("object"==("undefined"==typeof t?"undefined":r(t)))if(l=[],a(t)){arguments.length<4&&(i=this);for(var c=t,f=0,p=c.length;p>f;f++)l.push(this.listenTo(e,c[f],n,i))}else{i=arguments.length<3?this:n;var d=t;for(var v in d)l.push(this.listenTo(e,v,d[v],i))}else{if(arguments.length<4&&(i=this),"object"!=("undefined"==typeof n?"undefined":r(n)))return this._listenTo(e,t,n,i);var _=n;if(l=[],a(_))for(var g=0,m=_.length;m>g;g++)l.push(this.listenTo(e,t,_[g],i));else for(var b in _)l.push(this.listenTo(e[b]("unwrap",0),t,_[b],i))}var y=o(),E=function(){for(var e=l.length;e;)l[--e].stop();delete s._disposables[y]},C=this._disposables[y]={stop:E,dispose:E};return C},_listenTo:function(e,t,n,r){var i=this;if(e instanceof s)e.on(t,n,r);else{if(!e.addEventListener)throw new TypeError("Unable to add a listener");e!==r&&(n=n.bind(r)),e.addEventListener(t,n)}var a=o(),l=function(){i._disposables[a]&&(e instanceof s?e.off(t,n,r):e.removeEventListener(t,n),delete i._disposables[a])},u=this._disposables[a]={stop:l,dispose:l};return u},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this,r=o(),i=setTimeout(function(){delete n._disposables[r],e.call(n)},t),s=function(){n._disposables[r]&&(clearTimeout(i),delete n._disposables[r])},a=this._disposables[r]={clear:s,dispose:s};return a}),setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this,r=o(),i=setInterval(function(){e.call(n)},t),s=function(){n._disposables[r]&&(clearInterval(i),delete n._disposables[r])},a=this._disposables[r]={clear:s,dispose:s};return a}),registerCallback:function(e){function t(){return i._disposables[r]?(delete i._disposables[r],e.apply(i,arguments)):void 0}var n=this,r=o(),i=this,s=function(){delete n._disposables[r]};return t.cancel=s,t.dispose=s,this._disposables[r]=t,t},dispose:function(){var e=this._disposables;for(var t in e)e[t].dispose();return this}});e.exports=l},function(e,t,n){"use strict";function r(e,t,n){n||(n=e),o(e.element,t,{contentOnly:!0,getElementAttributes:function(e){return e[a]||e.attributes},onBeforeMorphElementContent:function(e,t){var r=e.ristaComponent;return r&&(e[a]=t.attributes,r.ownerComponent=n,r.shouldElementUpdate())?(r.props.contentSourceElement=t,!1):void 0}})}var i=n(1),s=i.js.Symbol,o=n(27),a=s("prevAppliedAttributes");e.exports=r},function(e,t,n){"use strict";function r(e){return e.attributes}function i(e){return e.getAttribute("key")}function s(e,t){return e.tagName==t.tagName}function o(e,t,n){function o(e,t){var n=g(e);if(n){var r=O[n];r?(delete O[n],r.el.parentNode.replaceChild(e,r.el),f(e,r.toEl,!1)):(x[n]=w[n]=e,S=!0,t&&e.parentNode.removeChild(e))}else{t&&e.parentNode.removeChild(e);for(var i=e.firstElementChild;i;i=i.nextElementSibling)o(i,!1);E&&E(e)}}function h(e){for(var t=e.firstElementChild,n=void 0;t;t=n){n=t.nextElementSibling;var r=g(t);if(r){var i=O[r];i?(delete O[r],i.el.parentNode.replaceChild(t,i.el),f(t,i.toEl,!1)):(x[r]=w[r]=t,S=!0)}else h(t)}}function c(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)c(t);E&&E(e)}function f(e,t,n){if(!n){if(b&&b(e,t)===!1)return;if(l(e,t,_(e)),y&&y(e,t)===!1)return}var r=e.tagName;if("TEXTAREA"!=r){for(var i=e.firstChild,s=t.firstChild;s;s=s.nextSibling){var h=s.nodeType,c=void 0;if(1==h&&(c=g(s))){var p=x[c];if(p){delete x[c],delete w[c],i===p?i=i.nextSibling:e.insertBefore(p,i||null),f(p,s,!1);continue}}for(var d=!1,v=i;v;v=v.nextSibling)if(v.nodeType==h&&(1==h?g(v)===c&&(c||m(v,s))&&(d=!0,f(v,s,!1)):(d=!0,v.nodeValue=s.nodeValue)),d){i==v?i=i.nextSibling:e.insertBefore(v,i);break}if(!d)switch(h){case 1:var E=s.namespaceURI==u?document.createElement(s.tagName):document.createElementNS(s.namespaceURI,s.tagName);e.insertBefore(E,i||null),c?(O[c]={el:E,toEl:s},A=!0):f(E,s,!1);break;case 3:e.insertBefore(document.createTextNode(s.nodeValue),i||null);break;case 8:e.insertBefore(document.createComment(s.nodeValue),i||null);break;default:throw new TypeError("Unsupported node type")}}for(var v=void 0;i;i=v)v=i.nextSibling,1==i.nodeType?o(i,!0):e.removeChild(i)}var C=a[r];C&&C(e,t)}n||(n={});var p,d,v=!!n.contentOnly,_=n.getElementAttributes||r,g=n.getElementKey||i,m=n.isCompatibleElements||s,b=n.onBeforeMorphElement,y=n.onBeforeMorphElementContent,E=n.onElementRemoved,C=document.activeElement;void 0!==C.selectionStart&&(p=C.scrollLeft,d=C.scrollTop);var x=Object.create(null),w=Object.create(null),O=Object.create(null),S=!1,A=!1;for(f(e,t,v);A;){for(;S;){S=!1;for(var I in w){var j=w[I];delete w[I],h(j)}}A=!1;for(var I in O){var T=O[I];if(delete O[I],f(T.el,T.toEl,!1),A)break}}for(var I in x)c(x[I]);C!=document.activeElement&&(void 0!==p&&(C.scrollLeft=p,C.scrollTop=d),C.focus())}var a=n(28),l=n(29),u=document.documentElement.namespaceURI;e.exports=o},function(e,t){"use strict";var n={INPUT:function(e,t){e.value!=t.value&&(e.value=t.value),e.checked=t.checked},TEXTAREA:function(e,t){var n=t.value;e.value!=n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)},OPTION:function(e,t){e.selected=t.selected}};e.exports=n},function(e,t){"use strict";function n(e,t,n){for(var r=t.attributes,i=0,s=r.length;s>i;i++){var o=r.item(i),a=o.namespaceURI,l=a?n.getNamedItemNS(a,o.name):n.getNamedItem(o.name);l&&l.value==o.value||(a?e.setAttributeNS(a,o.name,o.value):e.setAttribute(o.name,o.value))}for(var i=n.length;i;){var l=n.item(--i),u=l.namespaceURI;u?r.getNamedItemNS(u,l.name)||e.removeAttributeNS(u,l.name):r.getNamedItem(l.name)||e.removeAttribute(l.name)}}e.exports=n},function(e,t){"use strict";e.exports=["click","dblclick","mousedown","mouseup","input","change","submit","focusin","focusout"]},function(e,t,n){"use strict";var r=n(1),i=r.Cell,s=r.js.Symbol,o=r.utils.nextTick,a=n(24),l=n(26),u=s("contentSourceElement");e.exports=a.extend("rt-content",{shouldElementUpdate:function(){return!0},updateElement:function(){var e=this,t=this._contentSourceElement.get();return l(this,t,t==this.props.contentSourceElement?this.ownerComponent:this.ownerComponent.ownerComponent),this.isReady&&o(function(){e.emit("element-update")}),this},initialize:function(){var e=this.ownerComponent,t=e.props,n=this.element.getAttribute("select"),r=e[u]||(e[u]=new i(function(){return t.contentSourceElement.cloneNode(!0)}));this._contentSourceElement=new i(n?function(){var e=r.get().querySelectorAll(n);if(!e.length)return this.props.contentSourceElement;for(var t=document.createElement("div"),i=0,s=e.length;s>i;i++)t.appendChild(e[i]);return t}:function(){var e=r.get();if(!e.firstChild)return this.props.contentSourceElement;for(var t,n=document.createElement("div");t=e.firstChild;)n.appendChild(t);return n},{owner:this,onChange:this._onContentSourceElementChange}),this._contentSourceElementListening=!0},elementAttached:function(){this._contentSourceElementListening||this._contentSourceElement.on("change",this._onContentSourceElementChange)},elementDetached:function(){this._contentSourceElement.off("change",this._onContentSourceElementChange),this._contentSourceElementListening=!1},_onContentSourceElementChange:function(){this.updateElement()}})}])});